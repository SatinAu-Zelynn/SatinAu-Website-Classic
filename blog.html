<!--
  Copyright 2025 缎金SatinAu

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>博客Blog - 缎金SatinAu</title>
  <meta name="description" content="缎金SatinAu的个人博客，大概就是分享一些科技和Furry文章">
  <meta name="keywords" content="缎金,SatinAu,博客,Blog,文章">
  <meta name="author" content="缎金SatinAu">
  <meta name="color-scheme" content="light dark">
  <meta name="supported-color-schemes" content="light dark">
  <link rel="canonical" href="https://satinau.cn/blog">
  <link rel="icon" type="image/x-icon" href="source/image/favicon.ico">
  <link rel="stylesheet" href="style/satinau.css">
  <link rel="stylesheet" href="style/fluent.css" disabled>
  <link rel="stylesheet" href="style/material.css" disabled>
  <script src="script/common.js" defer></script>
  <script src="script/config.js" defer></script>
  <script src="script/blog.js" defer></script>
  <script src="script/components/CRCMenu.v2.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "trwlkhxzch");
  </script>

</head>
<body id="blog-page">
  <div class="color-bg color-bg-1"></div>
  <div class="color-bg color-bg-2"></div>
  <div class="color-bg color-bg-3"></div>
  <div class="color-bg color-bg-4"></div>
  <main class="page">
    <header>
      <div class="title-row">
        <h1>博客 Blog</h1>
      </div>
      <div class="greeting" id="greeting"></div>
      <div class="auth-controls">
        <button id="loginBtn" style="display: none;">登录</button>
        <div id="userInfo" style="display: none;"></div>
        <button id="logoutBtn" style="display: none;">退出</button>
      </div>
    </header>

    <section>
      <h2>最新文章</h2>
      <div id="blogList" class="contact-wrapper"></div>
      <div id="emptyState" style="display: none; text-align: center; padding: 40px 20px;">
        <p>没有找到文章，请稍后再试</p>
      </div>
      <div id="errorState" style="display: none; text-align: center; padding: 40px 20px;">
        <p>加载失败，请刷新页面重试</p>
        <button id="retryBtn" class="back-button" style="margin-top: 15px;">
          <svg viewBox="0 0 24 24"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 013.51 15"/></svg>
        </button>
      </div>
      
      <article id="postView" class="md-article" style="display:none;">
        <div class="post-meta">
          <button id="backToList" class="back-button" aria-label="返回">
            <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
          </button>
          <h2 id="postTitle"></h2>
          <p id="postDate" class="post-date"></p>
        </div>
        <div id="postContent" class="md-body"></div>
        <div class="post-actions" style="margin-top: 40px; display: flex; justify-content: space-between;">
          <button id="backToListBtn" class="back-button" aria-label="返回文章列表">
            <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
            <span style="margin-left: 8px;">文章列表</span>
          </button>
          <button id="backToTopBtn" class="back-button" aria-label="返回顶部">
            <svg viewBox="0 0 24 24"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
            <span style="margin-left: 8px;">回到顶部</span>
          </button>
          <button class="back-button" id="downloadArticle">
            <svg viewBox="0 0 24 24" width="24" height="24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
            下载TXT
          </button>
        </div>
        <div id="postError" style="display: none; text-align: center; padding: 40px 20px;">
          <p>文章加载失败</p>
          <button class="retryPost back-button" style="margin-top: 15px;">
            <svg viewBox="0 0 24 24"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 013.51 15"/></svg>
          </button>
        </div>
      </article>
    </section>

    <script src="script/components/footer.js"></script>
    <site-footer></site-footer>
  </main>

  <!-- 登录弹窗 -->
  <div id="authModal" class="overlay">
    <div class="modal">
      <h3>用户登录</h3>
      <div class="auth-tabs">
        <button class="tab-btn active" data-tab="email">邮箱登录</button>
        <button class="tab-btn" data-tab="oauth">第三方登录</button>
      </div>
    
      <!-- 邮箱登录表单 -->
      <div id="emailTab" class="auth-tab">
        <input type="email" id="email" placeholder="邮箱" required>
        <input type="password" id="password" placeholder="密码" required>
        <button id="emailLoginBtn">登录</button>
        <button id="signupBtn">注册</button>
        <p id="authError" style="color: red;"></p>
      </div>
    
      <!-- 第三方登录 -->
      <div id="oauthTab" class="auth-tab" style="display: none;">
        <button id="githubLoginBtn">GitHub 登录</button>
        <button id="googleLoginBtn">Google 登录</button>
      </div>
      <button id="closeAuthModal">关闭</button>
    </div>
  </div>

  <!-- 加载动画 -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
  </div>

  <!-- Toast -->
  <div id="copiedTip" class="copied-tip"></div>

  <!-- 导航栏 -->
  <script src="script/components/navigate.js"></script>
  <navigate-bar></navigate-bar>
</body>
</html>